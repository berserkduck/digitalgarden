---
{"dg-publish":true,"permalink":"/Pandas/DataFrame操作/增加列/"}
---

# 直接赋值
在DataFrame最后插入新列，会修改原始DataFrame
```Python
df[新列名] = 新值 
```

```python
import pandas as pd  
  
df = pd.DataFrame({  
    'A': [1, 2, 3],  
    'B': [4, 5, 6]  
})  
# 添加一列 C
df['C'] = 7   # 新列所有值都为7
df
```

```
+-+-+-+-+
| |A|B|C|
+-+-+-+-+
|0|1|4|7|
|1|2|5|7|
|2|3|6|7|
+-+-+-+-+
```


```python
df[新列名] = Series对象 或 list对象 或 元组 或 可迭代对象
```

```python
import pandas as pd  
  
df = pd.DataFrame({  
    'A': [1, 2, 3],  
    'B': [4, 5, 6]  
})  
# 添加一列 C
df['C'] = [7, 8, 9]  
df['D'] = [i for i in range(10,13)] # 可迭代对象
df
```

```
+-+-+-+-+--+
| |A|B|C|D |
+-+-+-+-+--+
|0|1|4|7|10|
|1|2|5|8|11|
|2|3|6|9|12|
+-+-+-+-+--+
```
# insert方法
可以在特定位置插入新列，会修改原始DataFrame
```python
df.insert(loc = , column = , value = )
```
- `loc`：整数，要插入新列的位置索引
- `column`：字符串，新列的名称
- `value`：<u>固定值，列表、元组或其他可迭代对象</u>，新列的值。如果是可迭代对象，其长度必须与数据框的行数相等

> [!NOTE] Note
> loc = 0表示在第一列**左侧**插入新列，loc = 1表示在第二列**左侧**插入新列
>在某列右侧插入，需要对列索引加一，比如loc = 0 + 1

```python
import pandas as pd  
  
df = pd.DataFrame({  
    'A': [1, 2, 3],  
    'B': [4, 5, 6]  
})  
df['C'] = [7, 8, 9]  

df.insert(loc=2 + 1, column='D', value=[10, 11, 12])  
df
```

```
+-+-+-+-+--+
| |A|B|C|D |
+-+-+-+-+--+
|0|1|4|7|10|
|1|2|5|8|11|
|2|3|6|9|12|
+-+-+-+-+--+
```



